$color--white = #FFFFFF
$color--black = #000000
$color--light-grey = #E6E6E6
$color--grey = #CCCCCC
$color--dark-grey = #7B7B7B
$color--primary = #2AA1C0
$color--secondary = #0E647D

$bl = 'checkbox'

// Basic control styles
.{$bl}
  display block
  position relative
  padding-left 30px
  margin-bottom 15px
  cursor pointer

  // Hide default browser input
  input
    position absolute
    z-index -1
    opacity 0


// Custom control
.{$bl}__indicator
  position absolute
  top 2px
  left 0
  height 20px
  width 20px
  background $color--light-grey

  &_invalid
    border 1px solid #e43540

  // Hover and focus
  .checkbox:hover input ~ &,
  .checkbox input:focus ~ &
    background $color--grey

  // Checked
  .checkbox input:checked ~ &
    background $color--primary

  // Hover when checked
  .checkbox:hover input:not([disabled]):checked ~ &,
  .checkbox input:checked:focus ~ &
    background $color--secondary

  // Hide default browser input
  .checkbox input:disabled ~ &
    background $color--light-grey
    opacity 0.6
    pointer-events none

  &:after
    content ''
    position absolute
    display none // Hide check

    .checkbox input:checked ~ &
      display block // Show check

    // Checkbox tick
    .checkbox &
      left 7px
      top 2px
      width 7px
      height 13px
      border solid $color--white
      border-width 0 2px 2px 0
      transform rotate(45deg)

    // Disabled tick colour
    .checkbox input:disabled ~ &
      border-color $color--dark-grey